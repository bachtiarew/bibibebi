Profile = React.createClass
	
	getInitialState: ->
		babysitter: BabysitterStore.babysitter
		skills: BabysitterStore.babysitterSkills
		pictures: BabysitterStore.pictures
		user: BabysitterStore.user

	componentDidMount: ->
		BabysitterStore.addChangeListener(@onChange)

	componentWillUnmount: ->
		BabysitterStore.removeChangeListener(@onChange)

	onChange: ->
		console.log("kena onChange")
		@setState(
			babysitter: BabysitterStore.babysitter
			skills: BabysitterStore.babysitterskills
			pictures: BabysitterStore.pictures
			user: BabysitterStore.user
		)

	onChangeHeader: ->

	render: ->
		{babysitter, pictures, skills, user} = @state
		{id, nik, age, description} = babysitter
		{firstname, lastname, borndate, bornplace, gender, address, phone_number} = user
		{pictureId, pictureType, pictureUrl} = pictures
		
		if _.isEmpty(babysitter)
			console.log("kena yang ini")
			<div className="blank-page text-center">
				<div>
					<h1>No Profile</h1>
					<h3>you can select the thumbnail to view profile</h3>
					<i className="fa fa-file"></i>
				</div>
			</div>
		else
			console.log("kena yang itu")
			<div style={border: "1px"} className="profile">
				<div className="row">
					<div className="col-sm-5 logo-img text-center">
						{
							if pictureUrl?
								<img src={pictureUrl} />
							else
								<i className="fa fa-camera fa-4x"></i>
						}
					</div>
					<div className="col-sm-7 label-profile">
						<p className="name"><strong>{firstname} {lastname}</strong></p>
						<i className="fa fa-star"></i>
						<i className="fa fa-star"></i>
						<i className="fa fa-star"></i>
						<i className="fa fa-star"></i>
						<i className="fa fa-star"></i>
						<h4>Rating. 5.0</h4>
						<div className="pull-right">
							<label className="cost">500K</label>
							<label className="per">/bulan</label>
						</div>
					</div>
				</div>
				<div className="detail">
						<h5>No NIK : {nik}</h5>
						<h5>Tempat, Tgl lahir : {bornplace}, {borndate}</h5>
						<h5>usia : {age} tahun</h5>
						<h5>NO Telp : {phone_number}</h5>
						<h5>Alamat : {address}</h5>
					
				</div>
				<div className="description">
					<p>{description}</p>
				</div>
				<div className="skills">
					<div className="row">
						<div className="col-sm-3">
							<div className="skill">
								<i className="fa fa-camera fa-2x"></i>
							</div>
						</div>
						<div className="col-sm-3">
							<div className="skill">
								<i className="fa fa-camera fa-2x"></i>
							</div>
						</div>
						<div className="col-sm-3">
							<div className="skill">
								<i className="fa fa-camera fa-2x"></i>
							</div>
						</div>
						<div className="col-sm-3">
							<div className="skill">
								<i className="fa fa-camera fa-2x"></i>
							</div>
						</div>
					</div>
						
				</div>
				<div className="button-action pull-right">
					<button className="btn btn-md btn-success">Recruit</button>
					<button className="btn btn-md btn-default">Save into List</button>
				</div>
			</div>


window.Profile = Profile